<!-- home page -->
{% extends "layout.html" %}
{% block content %}
<head>
	<title>Bronco Buddies - forums</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.4/css/intlTelInput.css">
	<link rel="stylesheet" href="../static/css/colors.css">
	<style>
	</style>
<script >
$(document).ready(function(){
  $("#listSearch").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myList li").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
</head>
<body class="bg-light">

	{% if current_user.is_authenticated: %}
	<main role="main" class="container">
		<div class="my-3 p-3 bg-white rounded shadow-sm">
			<h6 class="border-bottom border-gray pb-2 mb-0">Welcome back, {{ current_user.firstname }} - Forums</h6>
		</div>
	</main>
	{% endif %}

	<!-- Search form (doesn't work) -->
	<div class="container">
	  <input class="form-control" id="listSearch" type="text" placeholder="Type something to search list items">
	  <br>
	  <ul class="list-group" id="myList">
	    <li class="list-group-item">
	    	{% for post in posts %}
	    	<div class="my-3 p-3 bg-light rounded border shadow-sm">
				<h4><a href="{{ url_for('post', post_id=post.id) }}"> {{post.title}}</a></h4>
				<hr>
				<p>Date posted: {{post.date_posted.strftime('%m-%d-%Y')}}</p>
				<p>Forum: {{post.forum_id}} </p>
				<p>Votes: {{post.votes}}</p>
			</div>
			{% endfor %}
	    </li>
	  </ul>
	</div>
<!-- 		<script defer>
			let colors = ["bg-navy","bg-blue","bg-aqua","bg-teal","bg-olive","bg-green","bg-lime","bg-yellow","bg-orange","bg-red","bg-fushsia","bg-purple","bg-maroon","bg-white","bg-silver","bg-gray","bg-black"];
			function addForumSection(forum_name, forum_id, forum_description) {
				let forumList = document.querySelector(".container div");

				let container = document.createElement("div");
				container.className = "media text-muted pt-3";

				let rect = document.createElement("rect");
				let bgColor = colors[Math.floor(Math.random()*colors.length)];
				rect.className = bgColor;
				rect.setAttribute("style","width:48px; height:48px; border-radius:8px;");
				container.appendChild(rect);

				let textContainer = document.createElement("p");
				textContainer.className = "media-body pb-3 mb-0 small lh-125 border-bottom border-gray";
				container.appendChild(textContainer);

				let title = document.createElement("strong");
				title.textContent = forum_name;
				textContainer.appendChild(title);

				let description = document.createElement("p");
				description.textContent = forum_description;
				textContainer.appendChild(description);

				forumList.appendChild(container);
				return container;
			}

			addForumSection("Homework Help",1,"Trying to figure out the answer to #3? We can help!");
			addForumSection("Tech Troubles",2,"Having an issue related to campus wifi, computers, or other tech? Ask away!");
			addForumSection("The Rodeo",3,"Wanna socialize with fellow broncos? come on down to the rodeo!");

		</script> -->
</body>
{% endblock content %}

